#!/bin/bash
#-----------------------------------------------------------------------------
# %k = $kernel		nvme
# %n = $number		sda3 gives NUMBER == 3
# %M = $major		Major device number
# %m = $minor		Minor device number
# %P = $parent		Node name of the parent device
# %b = $id		name of device going up the device tree (?)
# %p = $devpath		The devpath of the device
#
# $id
# $driver		The driver name of device matched while going up tree.
# $name			Kernel device name.
# $root			The udev_root value.
# $sys			sysfs mount point.
# %N = $devnode		Name of the device node.
# $links		List of the current symlinks.
#
# %c = $result		PROGRAM "string" returned via executing the program.
#
#-----------------------------------------------------------------------------
A=START_`/bin/date '+%Y-%m-%d_%H-%M-%S-%N'`
#-- logger "$*"
#-- (/bin/date '+%Y-%m-%d_%H-%M-%S-%N' ; /bin/echo -e "$*" ; echo '..............................................................................' ; printenv | egrep -v 'M4_|PWD=|SEQNUM="|USEC_INITIALIZED=|SHLVL=|_=' | sort ; echo '------------------------------------------------------------------------------' ) > ${A}

(/usr/bin/echo "$A $*" ; printenv | egrep -v 'M4_|PWD=|SEQNUM="|USEC_INITIALIZED=|SHLVL=|_=' | sort) >> /dev/kmsg

/usr/bin/echo $A
exit 0
