#!/bin/bash -up
#-----------------------------------------------------------------------------
I=(T1 T2 T3 T4 U1 U2 U3 U4)
S=(v h csv fs abc)
A=(--vert --hori --csv --fs --abc)
#-----------------------------------------------------------------------------
clear
len=${#S[@]}
#-----------------------------------------------------------------------------
for i in ${I[@]}; do
    for (( j=0; j<$len; j++ )); do
    	s=${S[j]}
    	a=${A[j]}
	rm -f ZZZ.ims.${s}
	rm -f ZZZ.mus.${s}
	rm -f ZZZ.diff.comp.${s}
	rm -f ZZZ.diff.out.${s}
	./imscomp ${a} ${i}.gcs ${i}.${s} > ZZZ.ims.${s} 2>&1
	~/musicomp2abc/musicomp2abc ${a} ${i}.gcs ${i}-m.${s} > ZZZ.mus.${s} 2>&1
	diff -u ZZZ.mus.${s} ZZZ.ims.${s} > ZZZ.diff.comp.${s}
	echo "--- ${i} --- ${a} --- ${s} ---------------------------------------------------"
	cat ZZZ.diff.comp.${s}
	diff -u ${i}-m.${s} ${i}.${s} > ZZZ.diff.out.${s}
	echo "------------------------------------------------------------------------------"
	cat ZZZ.diff.out.${s}
    done
done
#-----------------------------------------------------------------------------
exit 0
#-----------------------------------------------------------------------------
