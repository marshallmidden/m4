* Start of file test.gcs
* ----------------------------------------------------------------------------
* vim: tabstop=8 expandtab shiftwidth=4 softtabstop=4
* ----------------------------------------------------------------------------
voice   2
staff   french_horn1:1,2
*-- xpose   french_horn1 -9
tempo   187.5,1
volumes french_horn1 mf
clef    french_horn1 treble
instrument french_horn1 french horn
middlec
* ----------------------------------------------------------------------------
measure 1               $$ 1st
meter   6/4
french_horn1: vol(f) vol(sf)
  var VW
  decode 4c2; volumenumber,VW
  vol(VW) [4c32t,r(1/2-1/64)]
  debug vw,VW
  vol> 4c32t vol(f) 4c(1/2-2/32-1/64)t
  [vol>4c(1/32+1/64), r64] vol(pppp)
  5c2
cstop*
  4d4
  vol(mf)
  5c1
cstop*

* ----------------------------------------------------------------------------
macro volsf(VLM,note1)
  var NT1, DU1, SU1, VO1, svlm, VW
  decode note1; notetext,NT1; duration,DU1; suffixes,SU1; volumenumber,VO1
  encode svlm=s;string,VLM
  vol(svlm)
  decode note1; volumenumber,VW
  debug Vw,VW
  vol(VW) [NT1(1/32)t,r(DU1)]
  if VO1 != VW
    vol>
  endif
  NT1(1/32)t
  vol(VO1)
  NT1(DU1-2/32)t
  [vol>NT1(1/4)SU1, vol(VO1)NT1(1/8)SU1]
  debug nt1,NT1, du1,DU1, vo1,VO1, SVLM,svlm, vw,VW
  vol(pppp) 4b1
  vol(VO1)
  [5c1,5c+1]
endmacro

* ----------------------------------------------------------------------------
*-- french_horn1: vol(f) volsf(f,4c2) 4d2 vol(pp) 4e2
french_horn1: vol(mf) volsf(f,4c2)
cstop*
* ----------------------------------------------------------------------------
measure 62              $$ 7th
french_horn1: vol(sf)> [4c4d,4c4d] [4c8,3c8]
* ----------------------------------------------------------------------------
cstop*
* End of file test.gcs
