MIDICSV = midicsv
CSV2FS  = ../csv2fs
FS2GCS  = ../../fs2gcs/fs2gcs
# ----------------------------------------------------------------------------
MID	 =
MID	+= lvbsym33
# ----------------------------------------------------------------------------
MID_CSV = ${MID:=.csv}
MID_FS = ${MID:=.fs}
MID_GCS = ${MID:=.gcs}
MID_HINTS = ${MID_GCS:.gcs=.hints}
# ----------------------------------------------------------------------------
.PRECIOUS: %.csv %.fs %.gcs %.mid
.SUFFIXES: .csv .fs .gcs .mid
# ----------------------------------------------------------------------------
# output $@   -- input $<
%.csv:  %.mid
	${MIDICSV} $< $@ 
%.fs:  %.csv
	${CSV2FS} $< $@
%.gcs:  %.fs %.hints
	${FS2GCS} $< $@ ${@:.gcs=.hints}
# ----------------------------------------------------------------------------
all:	${MID_GCS}
# ----------------------------------------------------------------------------
${MID_GCS}: ${MID_FS}
${MID_FS}: ${MID_CSV}
# ----------------------------------------------------------------------------
.phony: test tests
test tests:
	@echo MID_CSV=${MID_CSV}
	@echo MID_FS=${MID_FS}
	@echo MID_GCS=${MID_GCS}
	@echo MID_HINTS=${MID_HINTS}
# ----------------------------------------------------------------------------
.phony: clean
clean:
	rm -f ${MID_CSV}
	rm -f ${MID_FS}
	rm -f ${MID_GCS}
# ----------------------------------------------------------------------------
# End of Makefile
