* Start of file text.gcs
* ----------------------------------------------------------------------------
* vim: tabstop=8 expandtab shiftwidth=4 softtabstop=4
* ----------------------------------------------------------------------------
#include "instruments.include"
* ----------------------------------------------------------------------------
* Example: volsf(f,4a8l,trailing)
* Example: volsf(f,4a8l,4b4t,trailing)     # trailing is like "vol>"
*   vol(f)vol(sf) [4a32t,4b32t] vol(f)> [4a32t,4b32t] vol(savevolume) [4a(1/8-2/32)l,4b(1/4-2/32)t] trailing
macro volsf(VLM,note1,note2,vdc,vcd)
  var n1,n2, d1,d2, s1,s2, t1,t2, svlm, svol,svl
  decode note1; notetext,n1; duration,d1; suffixes,s1; volumenumber,svol
  debug Svol,svol
  decode note2;notetext,n2;duration,d2;suffixes,s2
  encode t1=;string,n1;string,'32t'
  encode t2=;string,n2;string,'32t'
  encode t2=;string,n2;string,'32t'
  encode svlm=s;string,VLM
  encode svl=vol(;number,svol;string,)
  debug Svo,svl
  var x
  if vdc == ''
    encode x=;string,vcd
  else
    encode x=;string,vol(;string,vdc;string,);string,vcd
  endif
  vol(svlm)[n1(1/32)t,n2(1/32)t,r(d1),r(d2)] vol(VLM)> [n1(1/32)t,n2(1/32)t] svl [n1(d1-2/32)s1,n2(d2-2/32)s2] x
endmacro
* ----------------------------------------------------------------------------
voice   2
staff   french_horn1:1,2
*-- xpose   french_horn1 -9
tempo   80,4
volumes french_horn1 pp
clef    french_horn1 treble
instrument french_horn1 french horn
middlec
* ----------------------------------------------------------------------------
measure 1               $$ 1st
meter   2/4
french_horn1: volsf(f,4c2,3c2,p,>) 5c2 vol(pp)
cstop*
* ----------------------------------------------------------------------------
measure 62              $$ 7th
french_horn1: vol(sf)> [4c4d,4c4d] [4c8,3c8]
* ----------------------------------------------------------------------------
measure 77              $$ 1st
french_horn1: vol(ff) [4d4d,3g4d] vol(sf) [4d8s,3g8s]
* ----------------------------------------------------------------------------
measure 78              $$ 2nd
french_horn1: [4d4d,3g4d] vol(sf) [4d8s,3g8s]
* ----------------------------------------------------------------------------
measure 79              $$ 3rd
french_horn1: [4d8s,3g8s] vol(sf) [4d8s,3g8s][4d8s,3g8s] vol(sf) [4d8s,3g8s]
* ----------------------------------------------------------------------------
measure 99              $$ 2nd
french_horn1: vol(ff) [4c4d,3e4d] vol(sf) [4e8s,3g8s]
* ----------------------------------------------------------------------------
measure 100             $$ 3rd
french_horn1: [4c4d,3e4d] vol(sf) [4e8s,3g8s]
* ----------------------------------------------------------------------------
measure 101             $$ 4th
french_horn1: [4c8s,3d8s] vol(sf) [4e8s,3g8s] [4c8s,3d8s] vol(sf) [4e8s,3g8s]
* ----------------------------------------------------------------------------
measure 128             $$ 6th
french_horn1: vol(sf) [3g4d,2g4d] [3g8,2g8]
* ----------------------------------------------------------------------------
measure 132             $$ 3rd
french_horn1: vol(sf) [4f2,4f2]
* ----------------------------------------------------------------------------
measure 142             $$ 6th
french_horn1: [4c4,3c4] vol(sf)[4f4t,4f4t]
* ----------------------------------------------------------------------------
measure 146             $$ 3rd
french_horn1: [4d8,4d8] vol(sf) [4d4dt,4d4dt]
* ----------------------------------------------------------------------------
measure 163             $$ 1st
french_horn1: vol(sf) [4c2,3c2]
* ----------------------------------------------------------------------------
measure 165             $$ 3rd
french_horn1: vol(sf) [4c2t,3c2t]
* ----------------------------------------------------------------------------
measure 174             $$ 2nd
french_horn1: r8 vol(p) [4g16d,3g16d][4g32,3g32] [4g8,3g8]vol(sf)[4g8,3g8]
* ----------------------------------------------------------------------------
measure 195             $$ 4th
french_horn1: r4 vol(f)vol(sf)> [4c4,3c4]
* ----------------------------------------------------------------------------
measure 206             $$ 3rd
french_horn1: vol(sf) > [4c2,4c2]
* ----------------------------------------------------------------------------
measure 247             $$ 9th
french_horn1: r8, vol(sf)> [3g4,3c4] [3g8,3c8]
* ----------------------------------------------------------------------------
measure 248             $$ 10th
meter   3/8
french_horn1: vol(p) [3g4d,3c4d]
* ----------------------------------------------------------------------------
cstop*
* End of file test.gcs
