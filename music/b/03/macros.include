* ----------------------------------------------------------------------------
* vim: tabstop=8 expandtab shiftwidth=4 softtabstop=4
* ----------------------------------------------------------------------------
* vlm = Volume (like sf or sfp)
* note
* lth = length of note (sequence).
* num = number in sequence (split l [length] this many times)
* suffix = trailing suffix, if any. (Like t or l or whatever.)
* 
* Example: svlm(sf,3c,2d,3,l)
*          vol(sf)s3(3ct,3ct,3cl)2d
*
macro svlm(vlm,note,lth,num,suffix)
  var Sp, Sm, Se, i
  encode Sp=vol(;number,vlm;string,)s;number,num
  encode Sm=
  for i=1,num
    encode Se=;number,Sm
    if i < num
      encode Sm=;number,Se;number,note;string,t,
    else
      encode Sm=;number,Se;number,note;number,suffix
    endif
  done
  encode Se=;number,lth
  Sp(Sm)Se
endmacro
* ----------------------------------------------------------------------------
* End of file macros.include
