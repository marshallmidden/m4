1s;^;* vim: tabstop=8 expandtab shiftwidth=4 softtabstop=4\n* ----------------------------------------------------------------------------\n;
s;^voice  *\([0-9][0-9]*\)$;voice   \1\nvolume  pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp,pp\n* ----------------------------------------------------------------------------\nmeasure 0;
s/^measure \(.*\)$/* ----------------------------------------------------------------------------\nmeasure \1        Page x TOP, yth/
s/^v \([0-9][0-9]*\):/v\1:/

s/16 ,r64 ,r32 */8s/g
s/16d ,r32 */8s/g
s/16d ,r64d */8/
s/: [12345][a-g]?3? *,/: /
s/: [12345][a-g]?6? *,/: /
s/16 ,r16 */8s/g
s/: r?3? *,/: /
s/: r?6? *,/: /
s/: r?3? */: /
s/: r?6? */: /
s; ,;,;g
s;,  *;,;g
s;32d,r64;16;g
s;32d,r?6?;16;g

s;16d,r8,r32;8s,r8;
s;: r4,;: r8,r8,;
s;16,r8d;8s,r8;
s;64d,r?5?;32;
s;64d$;32;
s;r16d,r32;r8;
s;r16d,r64;r8;
s;16,r32d;8s;
s;r8d,r32d;r4;

s;16,r32;16s;g
s;64d,r?5?;32s;g
s;\$\$ bar_time .*f=.* delta=[0-9][0-9]*  *;$$ ;
s;: [0-9]*?$;: r4d;
s;64d,r?[0-9]?;32s;g
s;64d,r64,r?2?;32s;g
s;: 4d,r?[0-9]?$;: r4d;
s;16d,r?[0-9]?;8s;g
s;:,r?[0-9]?$;: r4d;
s;: ?[0-9]?$;: r4d;
s;: *[0-9]*$;: r4d;
s;: ,.*$;: r4d;
s;: ?*[0-9]*?,.*$;: r4d;
s;16d,r8,r32;8s,r8;g
s;: [0-9]*s$;: r4d;g
s;8,r16d;8s,r16;g
s;32d,r32d;16ds;g
s;16,r8,r32;8s,r16d;g
s;64,r64;32s;g
s;16t,r32;16ds;g
s;16d,r32;8;g
s;t,;,;g

s;[, ]r?3?;;g
s;[0-6][a-g]?3?,;;g
s;[0-6][a-g][-+n]?3?,;;g
s;[, ]r?[1-9]?;;g
s;:[ ]*$;: r4d;

s;2c?6?,2c?1?,2c?6?,2c?6?,2c?1?,2c?6?,r32,r32d,2c32,3bn8,2c?6?,2c?1?,2c?1?,2c?6?,r32s,r32,2c64,2c?6?,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?6?,r32s,4c16,3gn16,2c?6?,2c?1?,2c?1?,2c?6?,r32,2c?6?,2c?1?,2c?1?,2c?6?,r32s,2c?6?,r16ds,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?5?;t(2c,2c,12)4d;
s;c32,3bn8,2c?6?,2c?1?,2c?1?,2c?6?,r32,r32,2c64,2c?6?,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?6?,r32s,4c16,3gn16,2c?6?,2c?1?,2c?1?,2c?6?,r32,2c?6?,2c?1?,2c?1?,2c?6?,r32s,2c?6?,r16ds,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?5?;r8,3bn8,4c8;
s;,4c16,3gn16,2c?6?,2c?1?,2c?1?,2c?6?,r32,2c?6?,2c?1?,2c?1?,2c?6?,r32s,2c?6?,r16ds,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?5?; r8,3f8,3g8;
s;,2c?5?,2c?1?,2c?1?,2c?5?;r8,3d8,3e8;
s;2c?1?,2c?5?,2c?1?,2c?1?,2c?6?,r32s,2c?6?,2c?1?,2c?1?,2c?6?,r32s,2c?6?,3b-16d,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?6?,r32d,2c64,2c?6?,2c?1?,2c?1?,2c?6?,r32s,2c?6?,r32,r32,2c?1?,2c?1?,2c?6?,r32s,2c?6?,3a-8,3f8,2c?1?,2c?1?,2c?6?,r32s,2c?6?,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?6?,r32d,2c64,2c32s,2c?3?;r4d;
s;2c?1?,2c64,2c64,2c?6?,2c?1? 2c?1?,2c?5?,2c?1?,2c?1?,2c?6?,r32s,2c?6?,2c?1?,2c?1?,2c?6?,r32s,2c?6?,3b-16d,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?6?,r32d,2c64,2c?6?,2c?1?,2c?1?,2c?6?,r32s,2c?6?,r32,r32,2c?1?,2c?1?,2c?6?,r32s,2c?6?,3a-8,3f8,2c?1?,2c?1?,2c?6?,r32s,2c?6?,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?6?,r32d,2c64,2c32s,2c?3?;t(2c,2c,12)4d;
s;,2c64,2c?6?,2c?1?,2c?1?,2c?6?,r32s,2c?6?,r32,r32,2c?1?,2c?1?,2c?6?,r32s,2c?6?,3a-8,3f8,2c?1?,2c?1?,2c?6?,r32s,2c?6?,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?6?,r32d,2c64,2c32s,2c?3?; r8,2f8,rg8;
s;d,2c?6?,2c?1?,2c?1?,2c?5?,2c?1?,2c?1?,2c?6?,r32d,2c64,2c32s,2c?3?;3c8,3d8,2bn8;
s;,[0-6][a-g][-+n]*?[1-9]?;;g
s; [0-6][a-g][-+n]*?[1-9]?;;g
s;\([0-6][a-g][-+n]*[1-9][0-9]*\)?;\1;g
s; [0-9][0-9]s,; ;g
s;dsd;ds;g
s;: [0-6][a-g]32d*s*$;: r4d;
s;: 16,.*$;: r4d;
s;: 16d*s*,.*$;: r4d;
s;: 2,.*$;: r4d;
s;: [0-9],.*$;: r4d;

s/  *$//
