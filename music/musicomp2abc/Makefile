#-----------------------------------------------------------------------------
SONGS = promenade
# SONGS += tv
#-----------------------------------------------------------------------------
MUSICOMP2ABC = ./musicomp2abc
#-----------------------------------------------------------------------------
SONGS_abc = ${SONGS:=.abc}
SONGS_ps = ${SONGS:=.ps}
SONGS_mid = ${SONGS:=1.mid}
#-----------------------------------------------------------------------------
.PHONY: all
all: ${SONGS_ps} ${SONGS_mid} ${SONGS_abc}
#-----------------------------------------------------------------------------
.SUFFIXES:			# delete the default suffixes
.SUFFIXES: .abc 1.mid .ps
#-----------------------------------------------------------------------------
%1.mid:	%.abc
	abc2midi $<
%.ps:	%.abc
	yaps $< -k
%.abc:	%
	${MUSICOMP2ABC} < $< > $@ || (rm -f $@ ; exit 1)
#-----------------------------------------------------------------------------
.PHONY: clean
clean:
	rm -f *.mid *.ps *.abc *.stderr
#-----------------------------------------------------------------------------
.PHONY: tags ctags
tags ctags:
	ctags --language-force=python ${MUSICOMP2ABC}
#-----------------------------------------------------------------------------
